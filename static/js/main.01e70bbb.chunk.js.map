{"version":3,"sources":["../node_modules/express/lib sync","App.js","js/functions/getFlightData.js","js/functions/schedule.js","reportWebVitals.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","App","React","useState","flights","setFlights","getData","flight","require","restclient","cors","app","express","use","results","i","get","origin","a","res","fxml_url","username","password","query","ident","howMany","offset","on","result","response","console","log","FlightInfoStatusResult","destination","aircrafttype","tailnumber","actual_blockout_time","date","time","actual_blockin_time","dateBO","Date","epoch","dateDep","actual_departure_time","dateArr","actual_arrival_time","dateBI","push","listen","getFlightData","className","type","title","onClick","fetch","then","json","DD","getDate","MM","getMonth","getFullYear","events","j","Object","vcalendar","vevent","forEach","data","dtstart","substr","summary","flightNumber","catch","err","value","map","item","bind","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.01e70bbb.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 319;","import './App.css';\nimport React from 'react';\nimport getICSP from './js/functions/schedule';\nimport getFlightData from './js/functions/getFlightData';\n\nfunction App() {\n\n  const [flights, setFlights] = React.useState([\n    {'id' : 0, 'flightNumber' : 'KL1501', 'origin': 'AMS', 'destination': 'VLC'},\n    {'id' : 1, 'flightNumber' : 'KL1503', 'origin': 'AMS', 'destination': 'VLC'}\n  ]);\n\n\n  function getFlights() {\n    getICSP().then( results => {\n      setFlights(results);\n    });\n  }\n\n  function getData(flight) {\n    getFlightData(flight);\n  }\n\n  function logFlights(){\n    console.log(flights);\n    console.log(flights[0].id);\n    console.log(flights[0].flightNumber);\n    console.log(flights[1].id);\n    console.log(flights[1].flightNumber);\n\n    return fetch('http://localhost:5000/getData').then(response => {\n      return response.json();\n    }).then(response => {\n      console.log(response);\n    });\n\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Logboek</h1>\n\n        <button type=\"button\"\n          title='vluchtdata ophalen'\n          onClick={getFlights}\n          value={flights}\n        >Vluchtdata ophalen!\n        </button>\n\n        <p/>\n\n        <button type=\"button\"\n          title='flights?'\n          onClick={logFlights}\n        >log flights\n        </button>\n\n        <p>Flight List: </p>\n\n        <ul>\n        {flights.map(item => (\n        <li key={item.id}>\n        <button type=\"button\"\n          title={item.flightNumber}\n          onClick={getData.bind(this, item.flightNumber)}>\n          {item.flightNumber} {item.origin} - {item.destination}\n        </button>\n        </li>\n        ))}\n        </ul>\n\n\n      </header>\n    </div>\n\n  );\n}\n/*\n<ul>\n{flights.map(item => (\n  /*<button type=\"button\"\n  title='index'\n  onClick={getFlightData(item)}\n>{item}\n</button>*//*\n<li key={item}>{item}</li>\n))}\n</ul>*/\n// {item.flightNumber} {item.origin} - {item.destination}\n\nexport default App;\n","export default function getFlightData(flight) {\n\n  var util = require('util');\n  var restclient = require('restler');\n\n  //added myself:\n  const cors = require('cors');\n  const express = require('express');\n  //const fetch = require('node-fetch');\n\n  const PORT = 5000;\n  const app = express();\n\n  app.use(cors());\n  const corsOptions = {\n      origin: \"http://localhost:3000\"\n  };\n\n\n\n\n\n  var fxml_url = 'http://flightxml.flightaware.com/json/FlightXML2b/';\n  var username = 'mailstef';\n  var apiKey = '276cc9f2a31caf456f98c4a35692e2ceab507e1e';\n\n  var results = [];\n  var i = 0;\n\n\n  app.get('/getData', cors(corsOptions), async (req, res) => {\n\n\n    restclient.get(fxml_url + 'FlightInfoStatus', {\n        username: username,\n        password: apiKey,\n        query: {ident: flight, howMany: 1, offset: 2}\n    }).on('success', function(result, response) {\n        //util.puts('Aircraft en route to EHAM:');\n        console.log('Flight ' + flight + ' :');\n        //util.puts(util.inspect(result, true, null));\n        var flights = result.FlightInfoStatusResult.flights;\n        for (i in flights) {\n          var flight = flights[i];\n          //util.puts(util.inspect(flight));\n          console.log(flight.ident + \" \" + flight.origin + ' - ' + flight.destination + \" \" + flight.aircrafttype + \" \" + flight.tailnumber);\n          console.log(flight.actual_blockout_time.date + \" \" + flight.actual_blockout_time.time + \" - \" + flight.actual_blockin_time.time);\n\n\n          //let unix_timestamp = 1549312452\n          // Create a new JavaScript Date object based on the timestamp\n          // multiplied by 1000 so that the argument is in milliseconds, not seconds.\n          var dateBO = new Date(flight.actual_blockout_time.epoch * 1000);\n          var dateDep = new Date(flight.actual_departure_time.epoch * 1000);\n          var dateArr = new Date(flight.actual_arrival_time.epoch * 1000);\n          var dateBI = new Date(flight.actual_blockin_time.epoch * 1000);\n\n          results.push({\n            'flightNumber' : flight.ident,\n            'origin' : flight.origin,\n            'destination' : flight.destination,\n            'registration' : flight.tailnumber,\n            'type' : flight.aircrafttype,\n            'offBlock' : dateBO,\n            'takeOff' : dateDep,\n            'landing' : dateArr,\n            'onBlock' : dateBI,\n          });\n\n\n          console.log('--------');\n          console.log(dateBO);\n          console.log(dateDep);\n          console.log(dateArr);\n          console.log(dateBI);\n          console.log('--------');\n          console.log('--------');\n          console.log('--------');\n          console.log('--------');\n\n          return results;\n      }\n    });\n  });\n\n  app.listen(PORT, () => {\n      console.log(`Example app listening at http://localhost:${PORT}`);\n  });\n}\n","//import convert from './IcsConverter';\n\n\nexport default function getICSP() {\n  /*\n  return fetch(\n    //'https://klc-rooster.nl/79dff3d4d99e4c83fff5fc4d4bf114eb.ics'\n    '../../json/rooster-15mei21.json'\n  )\n    .then(response => {\n      return response.json();\n    })\n\n    //.then(response => response.json())\n\n    .then(response => {\n      console.log(response);\n      var output = convert(response);\n      console.log('we zijn hier aangekomen');\n      console.log(output);\n\n    })\n    .catch(err => {\n      console.log(err);\n    });\n    */\n\n\n    // Replace ./data.json with your JSON feed\n  return fetch('./rooster-15mei21.json').then(response => {\n    //console.log(response);\n    return response.json();\n  }).then(response => {\n\n    var DD = new Date().getDate();\n    if (DD < 10) {\n      DD = '0' + DD;\n    }\n    var MM = new Date().getMonth() + 1;\n    if (MM < 10) {\n      MM = '0' + MM;\n    }\n    var YY = new Date().getFullYear();\n    var date = '' + YY + MM + DD;\n    //var date = '20210607';\n    //console.log(date);\n\n    var events = [];\n    var j = 0;\n    Object.keys(response.vcalendar[0].vevent).forEach(function(data, i) {\n      /*\n      console.log(index);\n      console.log(data);\n      console.log(index.summary);\n      console.log([index].summary);\n\n      console.log('summary: ' + response.vcalendar[0].vevent[index].summary);\n      console.log('dtstart: ' + response.vcalendar[0].vevent[index].dtstart.substr(0,8));\n      */\n      //check of var 'date' gelijk is aan datum uit het 'event' in de json file en of de summary 'KL' bevat, anders krijg je ook het 'Flight day' event mee.\n      if(date === response.vcalendar[0].vevent[i].dtstart.substr(0,8) && response.vcalendar[0].vevent[i].summary.substr(0,2) === \"KL\"){\n        /*\n        console.log('summary: ' + response.vcalendar[0].vevent[i].summary);\n        console.log('dtstart: ' + response.vcalendar[0].vevent[i].dtstart.substr(0,8));\n        console.log('!VANDAAG!');\n        */\n        var flightNumber = response.vcalendar[0].vevent[i].summary.substr(0,6);\n        var origin = response.vcalendar[0].vevent[i].summary.substr(7,3);\n        var destination = response.vcalendar[0].vevent[i].summary.substr(11,3);\n\n        events.push({\n          \"id\" : j,\n          \"flightNumber\" : flightNumber,\n          \"origin\" : origin,\n          \"destination\" : destination\n        });\n        j++;\n      }\n\n    })\n\n    console.log(events);\n\n    //props.onchange\n\n    /*\n    .then(function(response) {\n        var names=[];\n        Object.keys(response.data).forEach(function(data) {\n             names.push(data.Name);\n        })\n        self.setState({\n            jdata: names\n        });\n    })\n    */\n    return events;\n  }).catch(err => {\n    console.log(err);\n  });\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}